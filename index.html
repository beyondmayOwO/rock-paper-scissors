<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rock Paper Scissors</title>
</head>
<body>
  <div>Rock Paper Scissors!</div>

  <script>
    // GET COMPUTER'S CHOICE
    /*
    - function getComputerChoice
    - randomly returns 'Rock', 'Paper', 'Scissors'
    */

    function getComputerChoice() {
      const choices = ['Rock', 'Paper', 'Scissors'];
      const randomIndex = Math.floor(Math.random() * 3);
      return choices[randomIndex];
    }

    // PLAY A SINGLE ROUND
    /*
    - function playRound ==> two parameters ==> playerSelection, computerSelection
    - Convert playerSelection and computerSlection to lowercase for case-insensitivity.
    - Compare playerSelection with computerSelection
    - returns a string declaring winner and loser
    */

    function playRound(playerSelection, computerSelection) {
      playerSelection = playerSelection.toLowerCase();
      computerSelection = computerSelection.toLowerCase();

      if (playerSelection === computerSelection) {
        return "It's a tie!";
      }
      else if (
        (playerSelection === 'rock' && computerSelection === 'scissors') ||
        (playerSelection === 'paper' && computerSelection === 'rock') ||
        (playerSelection === 'scissors' && computerSelection === 'paper')
      ) {
        return `You win! ${playerSelection} beats ${computerSelection}`;
      }
      else {
        return `You lose! ${computerSelection} beats ${playerSelection}`;
      }
    }

    // PLAY 5 ROUNDS
    /*
    - set userSccore and computerScore to 0
    - loop for 5 rounds ==> inside loop ==> all the prompts, update the scores
    -
    */

    function game() {
      let userScore = 0;
      let computerScore = 0;

      for (let i = 0; i < 5; i++) {
        const playerChoice = prompt("Enter your choice (Rock, Paper, or Scissors):");
        const computerChoice = getComputerChoice();

        const result = playRound(playerChoice, computerChoice);

        console.log(`Round ${i + 1}\n----------`);
        console.log(`You chose ${playerChoice}`);
        console.log(`Computer chose ${computerChoice}`);
        console.log(result);

        if (result.includes('win')) {
          userScore++;
        }
        else if (result.includes('lose')) {
          computerScore++;
        }
      }
      // DISPLAY FINAL SCORE AND WINNER

      console.log("\nGame Over!\n");
      console.log("Final Score\n----------");
      console.log(`You: ${userScore}`);
      console.log(`Computer: ${computerScore}`);

      if(userScore > computerScore) {
        console.log("Congratulations! You win the game!");
      }
      else if (computerScore > userScore) {
        console.log("You lose :( Computer wins!");
      }
      else {
        console.log("It's a tie! No one wins!");
      }
    }

    // START THE GAME

    game();
  </script>
</body>
</html>